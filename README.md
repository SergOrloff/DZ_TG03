# Telegram Бот для сбора информации об учениках школы

Этот проект представляет собой телеграм-бот для сбора информации об учениках школы, которые являются пользователями данного бота. Бот позволяет собирать данные о пользователях, такие как имя, возраст и класс, и сохранять их в базе данных.

## Функциональные возможности

- **Сбор данных**: бот последовательно запрашивает у пользователя имя, возраст и класс, в котором тот учится ;
- **Сохранение данных**: введённая информация сохраняется в базе данных;
- **Отимена ввода**: поддержка отмены ввода на любом этапе;
- **Личный кабинет**:
  - `/profile` — просмотр сохранённых данных;
  - `/update` — обновление данных;
  - `/delete` — удаление данных.
- **Команды помощи**:
  - `/start` — начало работы с ботом;
  - `/help` — отображение доступных команд.

## Установка

#### Требования

- **Python** версии **3.6** или выше;
- **Aiogram** версии **3.15.0** или выше;
- **aiosqlite**;
- Установленные зависимости из файла `requirements.txt`.

#### Шаги установки

1. **Клонируйте репозиторий или скачайте файлы проекта** в вашу рабочую директорию.
2. **Создание виртуального окружения и установка зависимостей  из файла requirements.txt**. 

```
   python -m venv venv
   source venv/bin/activate  # На Windows используйте `venv\Scripts\activate`
   pip install -r requirements.txt
```
3. **Создайте бота в Telegram через @BotFather и получите токен API:**
```
    Откройте чат с @BotFather.
    Отправьте команду /newbot и следуйте инструкциям.
    После создания бота вы получите токен в формате 123456789:ABCDEF....
```
4. **Создайте файл config.py в корневой директории проекта и добавьте в него токен бота:**

```
TOKEN = 'ВАШ_ТОКЕН_БОТА'

    Важно: Никогда не публикуйте свой токен бота в открытом доступе.
```

5. **Запустите бота:**

```
    python main_aio3.py
```
    

## Использование

####    Начало работы: 
```
    Найдите вашего бота в Telegram и отправьте команду /start.
    Следуйте инструкциям бота для ввода имени, возраста и класса.
```    
####    Процесс ввода данных
```
      - Пользователь вводит свое полное имя.
      - Пользователь вводит свой возраст (допускается ввод значения от 5 до 100).
      - Пользователь выбирает класс, в котором он учится.
      - Пользователь подтверждает или отменяет введенные данные.
```
####    Управление данными:
```
        /profile — просмотр ваших данных.
        /update — обновление данных.
        /delete — удаление данных.
    Помощь: используйте команду /help для получения списка доступных команд.
```
#### Структура проекта
```
    main.py — основной файл с кодом бота.
    config.py — файл конфигурации с токеном бота.
    requirements.txt — файл с зависимостями проекта.
    school_data.db — база данных SQLite (создаётся автоматически при первом запуске бота).
```
#### Команды бота
```
    /start — начать ввод данных.
    /profile — посмотреть сохранённые данные.
    /update — обновить данные.
    /delete — удалить данные.
    /help — показать справку по командам.
    /cancel — отменить текущее действие.
```

## Примечания
```
    База данных: файл school_data.db создаётся автоматически и хранит информацию о пользователях.
    Хранилище состояний: используется MemoryStorage, поэтому при перезапуске бота текущие состояния пользователей будут сброшены.
    Безопасность: убедитесь, что файл config.py не попадает в публичные репозитории или доступ к нему ограничен.
```
## Логирование

Логирование осуществляется в файл `bot.log`, а также выводится в консоль. Это поможет отслеживать работу бота и выявлять возможные ошибки.

## Тестирование

Для тестирования бота можно использовать Telegram и отправлять команды согласно функционалу, описанному выше. Убедитесь, что бот запущен и доступен в сети.

## Контакты

Если у вас есть вопросы или предложения по улучшению проекта, пожалуйста, свяжитесь с нами по электронной почте: [6202818@gmail.com](mailto:6202818@gmail.com).

## Лицензия

Этот проект лицензирован под лицензией MIT. Более подробную информацию можно найти в файле LICENSE.

## Дополнительная информация

Этот проект является учебным примером использования библиотеки aiogram для создания телеграм-ботов. Вы можете свободно изменять и адаптировать его под свои нужды.